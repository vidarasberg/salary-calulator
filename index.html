<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Salary calculator</title>
</head>

<body>
    <h1>70/30 modellen</h1>
    <div>
        <label for="timmar">timmar</label>
        <input id="timmar" type="number">
    </div>
    <div>
        <label for="timarvode">timarvode</label>
        <input id="timarvode" type="number">
    </div>
    <div>
        <label for="bruttolön">bruttolön</label>
        <input id="bruttolön" type="number" value="55000">
    </div>
    <div>
        <h2>Månadsinkomst</h2>
        <div id="monthlyIncome"></div>
    </div>
    <div>
        <h2>Arbetsgivaravgift</h2>
        <div id="arbetsgivaravgift"></div>
    </div>
    <div>
        <h2>Pension</h2>
        <input id="pension" type="number" value="3000">
    </div>
    <div>
        <h2>Skatt för pension</h2>
        <div id="pensionTax"></div>
    </div>
    <div>
        <h2>Total kostnad</h2>
        <div id="totalCost"></div>
    </div>

    <script>
        document.getElementById("bruttolön").addEventListener("change", () => {
            updateArbetsgivaravgift();
            updateTotalCost();
        });
        function updateArbetsgivaravgift() {
            const bruttolön = document.getElementById("bruttolön").value;
            const arbetsgivaravgift = bruttolön * 0.3142;
            document.getElementById("arbetsgivaravgift").innerText = arbetsgivaravgift.toFixed(2);
        }

        document.getElementById("timmar").addEventListener("change", updateMonthlyIncome);
        document.getElementById("timarvode").addEventListener("change", updateMonthlyIncome);
        function updateMonthlyIncome() {
            const timdebitering = document.getElementById("timmar").value;
            const timarvode = document.getElementById("timarvode").value;
            const debitering = timdebitering * timarvode;
            const monthlyIncome = debitering * 0.7;
            document.getElementById("monthlyIncome").innerText = monthlyIncome.toFixed(2);
        }

        document.getElementById("pension").addEventListener("change", () => {
            updatePensionTax();
            updateTotalCost();
        });
        function updatePensionTax() {
            const pension = document.getElementById("pension").value;
            const pensionTax = pension * 0.2426;
            document.getElementById("pensionTax").innerText = pensionTax.toFixed(2);
        }

        function updateTotalCost() {
            const bruttolön = document.getElementById("bruttolön").value;
            const arbetsgivaravgift = bruttolön * 0.3142;
            const pension = document.getElementById("pension").value;
            const pensionTax = document.getElementById("pensionTax").textContent;
            const totalCost = parseInt(bruttolön) + parseFloat(arbetsgivaravgift) + parseInt(pension) + parseFloat(pensionTax);
            document.getElementById("totalCost").innerText = totalCost.toFixed(2);
        }

        updateArbetsgivaravgift();
        updateMonthlyIncome();
        updatePensionTax();
        updateTotalCost();
    </script>
</body>

</html>